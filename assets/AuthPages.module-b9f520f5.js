import{r as y,j as t,s,a as g,u as $,b as N,F as v,N as T}from"./index-04d5f94e.js";const k=d=>{const[m,f]=y.useState(""),{disabled:i=!1,type:o,tabIndex:l=0,placeholder:c,label:u,name:x,error:r,required:a}=d,[e,n]=y.useState(o||"text"),w=p=>{f(p.currentTarget.value)},h=()=>{n(p=>p==="password"?"text":"password")},_=p=>{p.code==="Enter"&&(p.preventDefault(),h())},j=o==="password";return t.jsxs("div",{className:`${s.inputWrapper}${j?` ${s.inputWrapperPassword}`:""}${j&&e==="text"?` ${s.inputWrapperPasswordShown}`:""}${r?` ${s.inputWrapperInvalid}`:""}`,children:[t.jsx("input",{required:a,value:m,onChange:w,className:s.input,name:x,tabIndex:l,type:e,"aria-label":u,disabled:i}),t.jsx("label",{className:s.inputLabel,htmlFor:x,children:u||c}),a&&t.jsx("span",{title:`${x} is required`,className:s.inputRequired,children:"*"}),j&&t.jsx("button",{"aria-label":"Show-Hide password button",type:"button",tabIndex:0,onKeyDown:_,onClick:h,className:`${s.passwordButton} ${e==="password"?s.hidePassword:s.showPassword}`}),!!r&&t.jsx("span",{className:s.inputError,children:r})]})},L=()=>t.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30",xmlSpace:"preserve",children:[t.jsx("rect",{x:"0",y:"0",width:"4",height:"10",fill:"#fff",children:t.jsx("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0",dur:"0.6s",repeatCount:"indefinite"})}),t.jsx("rect",{x:"10",y:"0",width:"4",height:"10",fill:"#fff",children:t.jsx("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.2s",dur:"0.6s",repeatCount:"indefinite"})}),t.jsx("rect",{x:"20",y:"0",width:"4",height:"10",fill:"#fff",children:t.jsx("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.4s",dur:"0.6s",repeatCount:"indefinite"})})]}),B=d=>{const{isLoading:m,children:f,disabled:i,type:o,ariaLabel:l,className:c}=d;return t.jsx("button",{className:`${g.button}${c?` ${c}`:""}`,disabled:i,type:o,tabIndex:0,"aria-label":l||"Button",children:m?t.jsx(L,{}):f})},S="_formTitle_1dkoz_1",W="_form_1dkoz_1",C="_formSubmitButton_1dkoz_13",q="_actions_1dkoz_18",z="_actionLink_1dkoz_25",E="_formWrapper_1dkoz_60",b={formTitle:S,form:W,formSubmitButton:C,actions:q,actionLink:z,formWrapper:E},D=d=>{const{fields:m,method:f="post",submitButtonText:i,title:o,actionLinks:l}=d,{state:c}=$(),u=c==="submitting",x=N(),r=y.useRef(null),a=x;return y.useEffect(()=>{if(r.current&&a){let e=!1;Object.keys(a).forEach(n=>{var w;if(a[n]&&!e){const h=(w=r==null?void 0:r.current)==null?void 0:w.querySelector(`input[name="${n}"]`);h&&(h.focus(),e=!0)}})}},[a]),t.jsx(v,{className:b.form,method:f,ref:r,children:t.jsxs(t.Fragment,{children:[!!o&&t.jsx("h1",{className:b.formTitle,children:o}),Object.entries(m).map(([e,n])=>{switch(n.type){case"input":case"password":return t.jsx(k,{name:e,label:n.label,required:n.required,type:n.type==="password"?"password":"text",disabled:u,error:a==null?void 0:a[e]},e);default:return null}}),t.jsx(B,{ariaLabel:`${i} form submit button`,className:b.formSubmitButton,type:"submit",isLoading:u,disabled:u,children:i}),!!l&&t.jsx("div",{className:b.actions,children:l.map(e=>t.jsx(T,{className:b.actionLink,to:e.to,children:e.text},e.to))})]})})},F="_container_1gs9h_1",I="_formWrapper_1gs9h_7",K={container:F,formWrapper:I};export{D as F,K as s};
